@startuml AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ - ãƒ‘ã‚¿ãƒ¼ãƒ³A: æ–°è¦åˆ†æè¦æ±‚

actor ãƒ¦ãƒ¼ã‚¶ãƒ¼ as user
participant "UI\nã‚·ã‚¹ãƒ†ãƒ " as ui
participant "AI\nã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ" as ai
database "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹" as db

== Step 1: ç”»é¢è¡¨ç¤º ==

user -> ui: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
activate ui

ui -> ui: localStorageã‹ã‚‰\nå‰å›ã®çŠ¶æ…‹ã‚’ç¢ºèª

alt å‰å›ã®çŠ¶æ…‹ãŒå­˜åœ¨ã™ã‚‹
    ui -> ui: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒ\n(ã‚¿ã‚¤ãƒˆãƒ«ã€åˆ†æè¦æ±‚ãƒ†ã‚­ã‚¹ãƒˆã€\nç”Ÿæˆã•ã‚ŒãŸSQLã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿)

    ui -> user: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”»é¢ã‚’è¡¨ç¤º\nå‰å›ã®çŠ¶æ…‹ã‚’å¾©å…ƒã—ã¦è¡¨ç¤º
    deactivate ui

    note over user
        å¾©å…ƒã•ã‚ŒãŸçŠ¶æ…‹ã‹ã‚‰
        ç¶šãã®æ“ä½œãŒå¯èƒ½
    end note

else å‰å›ã®çŠ¶æ…‹ãŒå­˜åœ¨ã—ãªã„
    ui -> user: AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”»é¢ã‚’è¡¨ç¤º\n(åˆæœŸçŠ¶æ…‹)
    deactivate ui
end

== Step 2: åˆ†æè¦æ±‚ ==

user -> ui: åˆ†æè¦æ±‚ã‚’å…¥åŠ›\nï¼ˆä¾‹ï¼šã€Œãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹ã®9æœˆã®å£²ã‚Šä¸Šã’ã‚’æ•™ãˆã¦ã€ï¼‰\n+ ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›æ¬„ï¼ˆå¿…é ˆï¼‰
activate ui

== Step 3: SQLç”Ÿæˆã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ==
ui -> ai: POST /api/v1/agent/generate-sql\nåˆ†æè¦æ±‚ã‚’é€ä¿¡
activate ai
ai -> ai: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚ã‚’è§£é‡ˆ\nSQLæ–‡ã‚’ç”Ÿæˆ\n(ã‚¹ã‚­ãƒ¼ãƒæƒ…å ±: GET /api/v1/agent/schema)

ai -> db: POST /api/v1/agent/preview\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè¡Œ\n(LIMIT 5ä»˜ãSQL)\nã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 10ç§’ï¼ˆè¦ç›¸è«‡ï¼‰
activate db

alt ã€æ­£å¸¸ã€‘ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ
    db -> ai: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿è¿”å´
    deactivate db

    ai -> ui: ç”Ÿæˆã•ã‚ŒãŸSQLã¨\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¿”å´
    deactivate ai

    ui -> ui: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’\nlocalStorageã«ä¿å­˜

    alt ãƒ‡ãƒ¼ã‚¿ä»¶æ•° > 0
        ui -> user: SQLã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º\nâœ“ ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã¾ã—ãŸï¼ˆè©²å½“: Nä»¶ï¼‰\n[ âœ“ å…¨ä»¶ã§å®Ÿè¡Œ ] [ âœ— ã‚„ã‚Šç›´ã™ ]\nâ€» ãƒ˜ãƒƒãƒ€ãƒ¼ã« [ ãŠå•ã„åˆã‚ã› ] ãƒœã‚¿ãƒ³
        deactivate ui

    else ãƒ‡ãƒ¼ã‚¿ä»¶æ•° = 0
        ui -> user: SQLã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º\nâš ï¸ è©²å½“ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ\n[ ä¿®æ­£ã—ã¾ã™ ] [ ã‚„ã‚Šç›´ã™ ]
        deactivate ui
    end

    note over ui
        â€» ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯localStorageã«ä¿å­˜ã•ã‚Œã€
        ãƒšãƒ¼ã‚¸é·ç§»å¾Œã‚‚çŠ¶æ…‹ã‚’å¾©å…ƒå¯èƒ½
    end note

else ã€ã‚¨ãƒ©ãƒ¼ã€‘å®Ÿè¡Œå¤±æ•—
    db -> ai: ã‚¨ãƒ©ãƒ¼è¿”å´\n(æ§‹æ–‡ã‚¨ãƒ©ãƒ¼/ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ/\nãƒ†ãƒ¼ãƒ–ãƒ«ä¸å­˜åœ¨/æ¥ç¶šã‚¨ãƒ©ãƒ¼)
    deactivate db

    alt SQLæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ï¼ˆ2å›ã¾ã§ä¿®æ­£å¯èƒ½ï¼‰
        ai -> ui: ã‚¨ãƒ©ãƒ¼æƒ…å ±ã¨\nç”Ÿæˆã•ã‚ŒãŸSQLã‚’è¿”å´
        deactivate ai

        ui -> ui: ã‚¨ãƒ©ãƒ¼æ–‡ã‚’è§£æ\nä¿®æ­£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æº–å‚™

        ui -> user: âŒ SQLæ§‹æ–‡ã‚¨ãƒ©ãƒ¼\nç”Ÿæˆã•ã‚ŒãŸSQLè¡¨ç¤º\nã‚¨ãƒ©ãƒ¼å†…å®¹èª¬æ˜\n(è©¦è¡Œå›æ•°: 1/2)\n[ ä¿®æ­£ã—ã¾ã™ ]
        deactivate ui

        user -> ui: [ ä¿®æ­£ã—ã¾ã™ ] ã‚’ã‚¯ãƒªãƒƒã‚¯
        activate ui

        ui -> ai: POST /api/v1/agent/generate-sql\nã‚¨ãƒ©ãƒ¼æ–‡ã‚’å«ã‚€\nä¿®æ­£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é€ä¿¡
        activate ai
        ai -> ai: ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’è¸ã¾ãˆã¦\nSQLæ–‡ã‚’ä¿®æ­£

        ai -> db: POST /api/v1/agent/preview\nä¿®æ­£å¾Œã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè¡Œ\n(LIMIT 5ä»˜ãSQL)
        activate db

        alt ä¿®æ­£æˆåŠŸ
            db -> ai: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿è¿”å´
            deactivate db
            ai -> ui: ä¿®æ­£ã•ã‚ŒãŸSQLã¨\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¿”å´
            deactivate ai
            ui -> user: SQLã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º\nâœ“ ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã¾ã—ãŸï¼ˆè©²å½“: Nä»¶ï¼‰\n[ âœ“ å…¨ä»¶ã§å®Ÿè¡Œ ] [ âœ— ä¿®æ­£ã—ã¾ã™ ]
            deactivate ui

        else å†åº¦ã‚¨ãƒ©ãƒ¼ï¼ˆ2å›ç›®ï¼‰
            db -> ai: ã‚¨ãƒ©ãƒ¼è¿”å´
            deactivate db
            ai -> ui: ã‚¨ãƒ©ãƒ¼æƒ…å ±ã¨\nç”Ÿæˆã•ã‚ŒãŸSQLã‚’è¿”å´
            deactivate ai

            ui -> ui: ã‚¨ãƒ©ãƒ¼æ–‡ã‚’è§£æ\nä¿®æ­£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æº–å‚™

            ui -> user: âŒ SQLæ§‹æ–‡ã‚¨ãƒ©ãƒ¼\nç”Ÿæˆã•ã‚ŒãŸSQLè¡¨ç¤º\nã‚¨ãƒ©ãƒ¼å†…å®¹èª¬æ˜\n(è©¦è¡Œå›æ•°: 2/2)\n[ ã‚„ã‚Šç›´ã™ ]
            deactivate ui

            note over user
                [ ã‚„ã‚Šç›´ã™ ] ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨
                Step 1ï¼ˆç”»é¢è¡¨ç¤ºï¼‰ã¸æˆ»ã‚‹
            end note
        end

    else æ¥ç¶šã‚¨ãƒ©ãƒ¼/èªè¨¼ã‚¨ãƒ©ãƒ¼
        ai -> ui: ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¿”å´
        deactivate ai
        ui -> user: âŒ æ¥ç¶šã‚¨ãƒ©ãƒ¼\nãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸èª˜å°\n[ ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸ ]
        deactivate ui

    end
end

== Step 4: æ‰¿èª or ä¿®æ­£ ==

alt ã€Aã€‘SQLã‚’æ‰¿èªã™ã‚‹å ´åˆ
    user -> ui: [ âœ“ å…¨ä»¶ã§å®Ÿè¡Œ ] ã‚’ã‚¯ãƒªãƒƒã‚¯
    activate ui

    == Step 5: å…¨ä»¶ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆéåŒæœŸå‡¦ç†ï¼‰ ==
    ui -> db: POST /api/v1/agent/execute\nå…¨ä»¶å®Ÿè¡Œï¼ˆéåŒæœŸï¼‰\n(LIMITåˆ¶é™ãªã—SQL)
    activate db

    ui -> user: å®Ÿè¡Œä¸­ç”»é¢ã‚’è¡¨ç¤º\né€²è¡Œåº¦: 0%\n[ ã‚­ãƒ£ãƒ³ã‚»ãƒ« ]
    deactivate ui

    note over user,db
        â€» éåŒæœŸå‡¦ç†
        - å®Ÿè¡Œä¸­ç”»é¢: é€²è¡Œåº¦åˆã„ã‚’è¡¨ç¤ºï¼ˆ0%ã€œ100%ï¼‰
        - ä»–ã®ç”»é¢: å³ä¸‹ã«é€²è¡Œåº¦ã‚’è¡¨ç¤ºï¼ˆå¸¸ã«æ›´æ–°ï¼‰
        - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä»–ã®ç”»é¢ã‚’é–‹ã„ã¦æ“ä½œå¯èƒ½
        - Redisã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
    end note

    loop é€²è¡Œåº¦æ›´æ–°ï¼ˆRedisï¼‰
        db -> ui: é€²è¡ŒçŠ¶æ³ã‚’é€šçŸ¥\n(é€²è¡Œåº¦: XX%)
        ui -> user: é€²è¡Œåº¦ã‚’æ›´æ–°è¡¨ç¤º\nå®Ÿè¡Œä¸­ç”»é¢: é€²è¡Œåº¦ XX%\nä»–ç”»é¢å³ä¸‹: é€²è¡Œåº¦ XX%
    end

    alt ã€æ­£å¸¸ã€‘å®Ÿè¡Œå®Œäº†
        db -> ui: å…¨ä»¶ãƒ‡ãƒ¼ã‚¿è¿”å´\n(é€²è¡Œåº¦: 100%)
        deactivate db

        ui -> ui: ãƒ‡ãƒ¼ã‚¿ã‚’é›†è¨ˆãƒ»æ•´å½¢

        ui -> ui: POST /api/v1/agent/history\nåˆ†æå±¥æ­´ã‚’è‡ªå‹•ä¿å­˜\n(title(Step2ã§å…¥åŠ›) + SQLæ–‡ + å®Ÿè¡Œæ—¥æ™‚)\nâ€» ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯æœªè¨­å®š

        == Step 6: çµæœè¡¨ç¤º ==
        ui -> user: åˆ†æçµæœã‚’è¡¨ç¤º\n(ã‚¿ãƒ–å½¢å¼: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼/æ£’ã‚°ãƒ©ãƒ•/æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•/å††ã‚°ãƒ©ãƒ•/è¡¨å½¢å¼)\n[ ğŸ‘ è‰¯ã„ ] [ ğŸ‘ æ‚ªã„ ]\nâ€» ãƒ˜ãƒƒãƒ€ãƒ¼ã« [ ãŠå•ã„åˆã‚ã› ][ CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ] ãƒœã‚¿ãƒ³

        note over user
            â€» ä»–ã®ç”»é¢ã‚’é–‹ã„ã¦ã„ãŸå ´åˆã¯
            å³ä¸‹ã®é€²è¡Œåº¦è¡¨ç¤ºãŒã€Œå®Œäº†ã€ã«ãªã‚Šã€
            ã‚¯ãƒªãƒƒã‚¯ã§çµæœç”»é¢ã¸é·ç§»
        end note
        deactivate ui

        note over user,ui
            â€» å…¨ä»¶å®Ÿè¡Œå¾Œã¯ä¿®æ­£ä¸å¯ã€‚
            æ–°ã—ã„åˆ†æã‚’ã™ã‚‹å ´åˆã¯Step 1ã‹ã‚‰é–‹å§‹ã€‚
            â€» å±¥æ­´ã¯è‡ªå‹•ä¿å­˜æ¸ˆã¿ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ã¿è¿½åŠ å¯èƒ½
        end note

        alt ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¿½åŠ 
            user -> ui: [ ğŸ‘ è‰¯ã„ ] ã¾ãŸã¯ [ ğŸ‘ æ‚ªã„ ] ã‚’ã‚¯ãƒªãƒƒã‚¯
            activate ui

            ui -> ui: PUT /api/v1/agent/history/{id}\nãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ›´æ–°\n(feedback: good/bad)

            ui -> user: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¿å­˜å®Œäº†é€šçŸ¥
            deactivate ui
        end

        note over user,ui
            â€» ãŠå•ã„åˆã‚ã›æ©Ÿèƒ½ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ˜ãƒƒãƒ€ãƒ¼ã® [ ãŠå•ã„åˆã‚ã› ] ã‚’ã‚¯ãƒªãƒƒã‚¯
            â†’ ã‚¹ãƒ¬ãƒƒãƒ‰æƒ…å ±ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æƒ…å ±ã‚’CSVå‡ºåŠ›
            â†’ inquiry_YYYYMMDD_HHMMSS.csv
            â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¾Œã€æ‰‹å‹•ã§Slackã«SUã¸å ±å‘Š
        end note

        user -> ui: CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ or\nã‚°ãƒ©ãƒ•ç¨®é¡å¤‰æ›´
    else ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€‘ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸­æ–­
        user -> ui: ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\nï¼ˆå®Ÿè¡Œä¸­ç”»é¢ã¾ãŸã¯å³ä¸‹ã®é€²è¡Œåº¦è¡¨ç¤ºï¼‰
        activate ui
        ui -> db: DELETE /api/v1/agent/cancel/{execution_id}\nã‚¯ã‚¨ãƒªä¸­æ–­
        deactivate db

        ui -> user: âš ï¸ å®Ÿè¡ŒãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ
        deactivate ui

        note over ui
            â€» ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿèƒ½ã¯ãƒ•ã‚§ãƒ¼ã‚º2
            â€» å³ä¸‹ã®é€²è¡Œåº¦è¡¨ç¤ºã‹ã‚‰ã‚‚ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½
        end note

    else ã€ã‚¨ãƒ©ãƒ¼ã€‘å®Ÿè¡Œå¤±æ•—
        db -> ui: ã‚¨ãƒ©ãƒ¼è¿”å´\n(ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ/æ¥ç¶šã‚¨ãƒ©ãƒ¼ãªã©)
        deactivate db

        alt æ¥ç¶šã‚¨ãƒ©ãƒ¼/èªè¨¼ã‚¨ãƒ©ãƒ¼
            ui -> user: âŒ æ¥ç¶šã‚¨ãƒ©ãƒ¼\nãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸èª˜å°\n[ ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸ ]
            deactivate ui

        else ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç­‰ï¼‰
            ui -> user: âŒ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º\nã‚¨ãƒ©ãƒ¼å†…å®¹èª¬æ˜\n[ ã‚„ã‚Šç›´ã™ ]
            deactivate ui

            note over user
                [ ã‚„ã‚Šç›´ã™ ] ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨
                Step 1ï¼ˆç”»é¢è¡¨ç¤ºï¼‰ã¸æˆ»ã‚‹
            end note
        end
    end

else ã€Bã€‘SQLã‚’ä¿®æ­£ã™ã‚‹å ´åˆ
    user -> ui: [ âœ— ä¿®æ­£ã—ã¾ã™ ] ã‚’ã‚¯ãƒªãƒƒã‚¯
    activate ui
    ui -> user: ä¿®æ­£å…¥åŠ›æ¬„ã‚’è¡¨ç¤º
    deactivate ui

    user -> ui: ä¿®æ­£å†…å®¹ã‚’å…¥åŠ›\nï¼ˆä¾‹ï¼šã€Œãƒ•ã‚£ã‚®ãƒ¥ã‚¢ã ã‘ã‚’å¯¾è±¡ã«ã—ã¦ã€ï¼‰

    note over ui,ai
        Step 3ã«æˆ»ã‚Šã€
        ä¿®æ­£ã•ã‚ŒãŸSQLã‚’ç”Ÿæˆãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
    end note

    ui -> ai: POST /api/v1/agent/generate-sql\nä¿®æ­£è¦æ±‚ã‚’é€ä¿¡
    activate ai
    ai -> ai: ä¿®æ­£å†…å®¹ã‚’åæ˜ \næ–°ã—ã„SQLæ–‡ã‚’ç”Ÿæˆ

    ai -> db: POST /api/v1/agent/preview\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè¡Œ\n(LIMIT 5ä»˜ãSQL)
    activate db
    db -> ai: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿è¿”å´
    deactivate db

    ai -> ui: ä¿®æ­£ã•ã‚ŒãŸSQLã¨\nãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è¿”å´
    deactivate ai

    ui -> user: ä¿®æ­£ã•ã‚ŒãŸSQLã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º\n[ âœ“ å…¨ä»¶ã§å®Ÿè¡Œ ] [ âœ— ä¿®æ­£ã—ã¾ã™ ]
    deactivate ui

    note over user
        æ‰¿èªã•ã‚Œã‚‹ã¾ã§
        ã“ã®ãƒ«ãƒ¼ãƒ—ã‚’ç¹°ã‚Šè¿”ã™
    end note
end

@enduml